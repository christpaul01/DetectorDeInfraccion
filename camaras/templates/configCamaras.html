
{% extends "./BaseCamaras.html" %}
 <p>Aqui podras configurar las camaras del sistema</p>
 <a href="http://localhost:8000/camaras">Configurar Camaras</a>


{% block title %}
    Detector de Infracciones
{% endblock %}

{% block body %}
 <div class="row">
      <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
          <h1> Gestión de Camaras</h1>
          <div class="card">
    <div class="card-body">
        <form action="/registrarCamara/" method="POST"> {% csrf_token %}
            <div class="form-group">
                <legend>ID de Camara</legend>
                <input type="number" id="idCamara" name="idCamara" class="form-control" value="{{ next_id }}" readonly required>
            </div>

            <div class="form-group">
                <legend>Nombre de Camara</legend>
                <input type="text" id="nombreCamara" name="nombreCamara" class="form-control" placeholder="Nombre" maxlength="20" required>
            </div>

            <div class="form-group">
                <label for="estadoCamara">Estado</label>
                <select id="estadoCamara" name="estadoCamara" class="form-control" required>
                    <option value="">Seleccionar estado</option>
                    <option value="Activado">Activo</option>
                    <option value="Desactivado">Desactivado</option>
                </select>
            </div>

            <!-- Selección de Direcciones -->
            <div class="form-group">
                <label for="idDireccionCamara">Dirección de la Cámara</label>
                <select id="idDireccionCamara" name="idDireccionCamara" class="form-control">
                    <option value="">Ninguno</option>
                    {% for direccion in direcciones %}
                        <option value="{{ direccion.id_direccion }}">{{ direccion.nombre_direccion }}</option>
                    {% endfor %}
                </select>
            </div>

            <!-- Selección de tipos de ROI -->
            <div class="form-group">
                <fieldset>
                    <legend>Elegir tipos de Region de Interes (ROI):</legend>
                    <div>
                        <input type="checkbox" id="ROINormal" name="ROINormal" disabled checked />
                        <label for="ROINormal">Normal</label>
                    </div>

                    <div>
                        <input type="checkbox" id="ROIProhibido" name="ROIProhibido" />
                        <label for="ROIProhibido">Prohibido</label>
                    </div>
                </fieldset>
            </div>

            <div class="form-group">
                <button type="submit" class="btn btn-success btn-block text-white">Guardar</button>
            </div>
        </form>
        </div>
    </div>
      </div>
      <div class="col-sm-12 col-md-6 col-lg-8 col-xl-8">
          <h1>Listado de Camaras</h1>
        <div class="table-responsive py-2">
            <table class="table table-striped">
              <thead>
                <tr>
{#                  <th>#</th>#}
                  <th>ID</th>
                  <th>Nombre</th>
                  <th>Estado</th>
                  <th>Resolución</th>
                  <th colspan="4">Opciones</th>
                </tr>
             </thead>
             <tbody>
                 {% for c in camaras %}
                 <tr>
                       <td>{{c.id_camara}}</td>
                       <td>{{c.nombre_camara}}</td>
                       <td>{{c.estado_camara}}</td>
                       <td>{{c.resolucion_camara}}</td>
                        <td><a href="stream/{{c.id_camara}}" class="btn btn-sm btn-outline-info">Stream</a> </td>
                        <td><a href="iniciarCamara/{{c.id_camara}}" class="btn btn-success btn-sm btnIniciar">Iniciar</a> </td>
                        <td><a href="detallesCamara/{{c.id_camara}}" class="btn btn-sm btn-outline-primary">Detalles</a> </td>
{#                       <td><a href="editarCamara/{{c.id_camara}}" class="btn btn-info">Editar</a> </td>#}
                       <td><a href="eliminarCamara/{{c.id_camara}}" class="btn btn-outline-danger btn-sm btnEliminacion">Eliminar</a> </td>


                 </tr>
                 {%  endfor %}
             </tbody>
          </table>
        </div>
      </div>
 </div>
{% endblock %}
